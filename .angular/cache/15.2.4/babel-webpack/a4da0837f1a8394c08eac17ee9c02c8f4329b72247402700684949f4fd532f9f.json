{"ast":null,"code":"import { map, tap } from \"rxjs\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"./auth.service\";\nexport class AuthGaurd {\n  constructor(autService, router) {\n    this.autService = autService;\n    this.router = router;\n  }\n  canActivate(route, state) {\n    return this.autService.user.pipe(map(user => {\n      return !!user;\n    }), tap(isAuth => {\n      if (!isAuth) {\n        this.router.navigate(['/auth']);\n      }\n    }));\n  }\n}\nAuthGaurd.ɵfac = function AuthGaurd_Factory(t) {\n  i0.ɵɵinvalidFactory();\n};\nAuthGaurd.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n  token: AuthGaurd,\n  factory: AuthGaurd.ɵfac,\n  providedIn: 'root'\n});","map":{"version":3,"mappings":"AAEA,SAASA,GAAG,EAAcC,GAAG,QAAQ,MAAM;;;AAM3C,OAAM,MAAOC,SAAS;EAElBC,YAAoBC,UAAuB,EAAUC,MAAc;IAA/C,eAAU,GAAVD,UAAU;IAAuB,WAAM,GAANC,MAAM;EAG3D;EAEAC,WAAW,CACPC,KAA6B,EAC7BC,KAA0B;IAE1B,OAAO,IAAI,CAACJ,UAAU,CAACK,IAAI,CAACC,IAAI,CAACV,GAAG,CAACS,IAAI,IAAE;MACvC,OAAO,CAAC,CAACA,IAAI;IACjB,CAAC,CAAC,EACAR,GAAG,CAACU,MAAM,IAAG;MACX,IAAG,CAACA,MAAM,EAAC;QACP,IAAI,CAACN,MAAM,CAACO,QAAQ,CAAC,CAAC,OAAO,CAAC,CAAC;;IAEvC,CAAC,CAAC,CACD;EACL;;AApBSV,SAAS;;;AAATA,SAAS;SAATA,SAAS;EAAAW,SAATX,SAAS;EAAAY,YAFN;AAAM","names":["map","tap","AuthGaurd","constructor","autService","router","canActivate","route","state","user","pipe","isAuth","navigate","factory","providedIn"],"sourceRoot":"","sources":["E:\\DOCUMENTS\\Internship\\Angular\\Project\\src\\app\\auth\\auth.gaurd.ts"],"sourcesContent":["import { Injectable } from \"@angular/core\";\r\nimport { ActivatedRouteSnapshot, CanActivate, RouterStateSnapshot, UrlTree } from \"@angular/router\";\r\nimport { map, Observable, tap } from \"rxjs\";\r\nimport { AuthService } from \"./auth.service\";\r\n\r\n@Injectable({\r\n    providedIn: 'root'\r\n})\r\nexport class AuthGaurd implements CanActivate{\r\n    \r\n    constructor(private autService: AuthService, private router: Router)\r\n    {\r\n\r\n    }\r\n\r\n    canActivate(\r\n        route: ActivatedRouteSnapshot, \r\n        state: RouterStateSnapshot)\r\n    : boolean | UrlTree | Observable<boolean | UrlTree> | Promise<boolean | UrlTree> {\r\n        return this.autService.user.pipe(map(user=>{\r\n            return !!user;\r\n        })\r\n        , tap(isAuth =>{\r\n            if(!isAuth){\r\n                this.router.navigate(['/auth']);\r\n            }\r\n        })\r\n        )\r\n    }\r\n\r\n}"]},"metadata":{},"sourceType":"module","externalDependencies":[]}